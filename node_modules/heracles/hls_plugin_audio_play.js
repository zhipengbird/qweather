import { callNative, callNativeKeepCallback } from './hls_plugin_base.js'

const AUDIO_PLAY_MODULE = "audioPlay"

/**
 * 语音播放
 */
class AudioPlay {
	
	/**
	 * 播放音频
	 * @param {Object} url - 可以是本地地址，也可以是远程地址
	 * @param {Boolean} isLoop - 是否循环播放
	 * 回调事件:
	 *  event: started => 开始播放
	 *         update => 更新播放进度, 参数current: 当前播放进度，单位秒，duration: 总时长，单位秒
	 *         finish => 完成播放
	 */
	play(url, isLoop = false, success, fail) {
	  callNativeKeepCallback(AUDIO_PLAY_MODULE,'play',{"url": url,"isLoop": isLoop},"播放音频", success, fail)
	}
	
	/**
	 * 暂停播放
	 */
	pause() {
	  return callNative(AUDIO_PLAY_MODULE,'pause',{},"暂停播放音频")
	}
	
	/**
	 * 恢复播放
	 */
	resume() {
	  return callNative(AUDIO_PLAY_MODULE,'resume',{},"继续播放音频")
	}
	
	/**
	 * 销毁音频播放器
	 */
	destroy() {
	  return callNative(AUDIO_PLAY_MODULE,'destroy',{},"释放音频播放器")
	}
}

export default AudioPlay;

